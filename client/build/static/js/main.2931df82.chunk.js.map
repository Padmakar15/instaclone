{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Login.js","components/screens/Profile.js","components/screens/Signup.js","components/screens/CreatePost.js","reducer/UserReducer.js","components/screens/UserProfile.js","components/screens/FollowingUserPosts.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","history","useHistory","useContext","UserContext","state","dispatch","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","headers","Authorization","getItem","getAllPosts","a","axios","get","response","console","log","useEffect","likePost","put","postId","res","newData","map","item","_id","unlikePost","makeComment","text","deletePost","delete","filter","index","postedBy","name","style","float","src","photo","alt","color","likes","includes","length","title","body","comments","record","fontWeight","onSubmit","e","preventDefault","target","value","placeholder","Login","useForm","mode","register","handleSubmit","formState","errors","redirect","post","user","status","setItem","token","JSON","stringify","toast","position","payload","setTimeout","required","Profile","image","setImage","getPosts","updateProfile","form","FormData","append","profile","url","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","marginLeft","followers","following","onChange","file","files","pics","Signup","CreatePost","pic","padding","textAlign","reducer","action","UserProfile","setProfile","userid","useParams","follow","setFollow","getUserProfile","followUser","followId","prevState","unfollowUser","unfollowId","newFollower","picture","posts","FollowingUserPosts","getFollowingUserPosts","createContext","Routing","parse","path","exact","component","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2931df82.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nconst Navbar = () => {\r\n  const history = useHistory();\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const renderList = () => {\r\n    if (state) {\r\n      return (\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          <li>\r\n            <Link to=\"/profile\">Profile</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/create\">Create Post</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/myfollowingposts\">My Following Post</Link>\r\n          </li>\r\n          <li>\r\n            <button\r\n              className=\"btn #c62828 red darken-1\"\r\n              onClick={() => {\r\n                localStorage.clear();\r\n                dispatch({ type: \"CLEAR\" });\r\n                history.push(\"/login\");\r\n              }}\r\n            >\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          <li>\r\n            <Link to=\"/login\">Signin</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/signup\">Signup</Link>\r\n          </li>\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        <Link to={state ? \"/\" : \"/login\"} className=\"brand-logo left\">\r\n          Instagram\r\n        </Link>\r\n\r\n        {renderList()}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../App\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n  };\r\n  const getAllPosts = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/api/allposts\", {\r\n      headers: headers,\r\n    });\r\n    setData(response.data);\r\n    console.log(\"response\", response.data);\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      getAllPosts();\r\n    }\r\n  }, []);\r\n  const likePost = async (id) => {\r\n    console.log(\"id\", id);\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/like\",\r\n      { postId: id },\r\n      {\r\n        headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\r\n      }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"like post res\", res.data);\r\n  };\r\n  const unlikePost = async (id) => {\r\n    console.log(\"id\", id);\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/unlike\",\r\n      { postId: id },\r\n      {\r\n        headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\r\n      }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"unlike post res\", res.data);\r\n  };\r\n  const makeComment = async (text, id) => {\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/comment\",\r\n      { text, postId: id },\r\n      { headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") } }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"comment res\", res.data);\r\n  };\r\n  const deletePost = async (postId) => {\r\n    const res = await axios.delete(\r\n      `http://localhost:5000/api/deletepost/${postId}`,\r\n      { headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") } }\r\n    );\r\n    const newData = data.filter((item) => {\r\n      return item._id !== res.data._id;\r\n    });\r\n    setData(newData);\r\n    console.log(\"delete res\", res.data);\r\n  };\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item, index) => {\r\n        return (\r\n          <div key={index} className=\"card home-card\">\r\n            <h5>\r\n              <Link\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? \"/profile/\" + item.postedBy._id\r\n                    : \"/profile\"\r\n                }\r\n              >\r\n                {item.postedBy.name}\r\n              </Link>\r\n              {item.postedBy._id === state._id && (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ float: \"right\" }}\r\n                  onClick={() => deletePost(item._id)}\r\n                >\r\n                  delete\r\n                </i>\r\n              )}\r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} alt=\"post\" />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    unlikePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length > 0 && item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {item.comments.map((record, index) => {\r\n                return (\r\n                  <h6 key={index}>\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {record.postedBy.name}\r\n                    </span>\r\n                    {\" \" + record.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nconst Login = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({ mode: \"onTouched\" });\r\n  function notify() {\r\n    toast(\"You are logged in successfully!\", {\r\n      position: \"top-center\",\r\n    });\r\n  }\r\n  const redirect = () => {\r\n    history.push(\"/\");\r\n  };\r\n  const onSubmit = async (data) => {\r\n    console.log(\"data\", data);\r\n    const res = await axios.post(\"http://localhost:5000/api/signin\", {\r\n      ...data,\r\n    });\r\n    console.log(res.data.user);\r\n    if (res.status === 200) {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n      notify();\r\n      dispatch({ type: \"USER\", payload: res.data.user });\r\n      setTimeout(redirect, 1500);\r\n    }\r\n    console.log(\"response\", res.data);\r\n  };\r\n  return (\r\n    <div className=\"mycard\">\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"card auth-card\">\r\n          <h2>Instagram</h2>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            {...register(\"email\", { required: true })}\r\n            placeholder=\"enter email address\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"password\"\r\n            {...register(\"password\", { required: true })}\r\n            placeholder=\"enter password\"\r\n          />\r\n          <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\">\r\n            Login\r\n          </button>\r\n          <h5>\r\n            <Link to=\"signup\">Already have an account ?</Link>\r\n          </h5>\r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nconst Profile = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [image, setImage] = useState(\"\");\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n  };\r\n  const getPosts = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/api/getPosts\", {\r\n      headers: headers,\r\n    });\r\n    setData(response.data);\r\n    console.log(\"response\", response.data);\r\n  };\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n  console.log(\"data\", data);\r\n  const updatePhoto = (file) => {\r\n    setImage(file);\r\n  };\r\n  const updateProfile = async () => {\r\n    const form = new FormData();\r\n    form.append(\"file\", image);\r\n    form.append(\"upload_preset\", \"insta-clone\");\r\n    form.append(\"cloud_name\", \"padmakar15\");\r\n    const res = await axios.post(\r\n      \"https://api.cloudinary.com/v1_1/padmakar15/image/upload\",\r\n      form\r\n    );\r\n\r\n    const response = await axios.put(\r\n      \"http://localhost:5000/api/updateprofile\",\r\n      { profile: res.data.url },\r\n      {\r\n        headers: headers,\r\n      }\r\n    );\r\n    localStorage.setItem(\r\n      \"user\",\r\n      JSON.stringify({ ...state, profile: response.data.profile })\r\n    );\r\n    dispatch({ type: \"UPDATEPROFILE\", payload: response.data.profile });\r\n    console.log(\"update profile response\", response.data);\r\n  };\r\n  useEffect(() => {\r\n    updateProfile();\r\n  }, [image]);\r\n  return (\r\n    <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n      <div\r\n        style={{\r\n          margin: \"18px 0\",\r\n          borderBottom: \"1px solid gray\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-around\",\r\n          }}\r\n        >\r\n          <div>\r\n            <img\r\n              style={{\r\n                width: \"160px\",\r\n                height: \"160px\",\r\n                borderRadius: \"80px\",\r\n                marginLeft: \"-50px\",\r\n              }}\r\n              src={state ? state.profile : \"\"}\r\n              alt=\"profile\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <h4>{state && state.name}</h4>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                width: \"108%\",\r\n              }}\r\n            >\r\n              <h6>{data ? data.length : 0} posts</h6>\r\n              <h6>\r\n                {state ? state.followers && state.followers.length + \" \" : \"0\"}\r\n                followers\r\n              </h6>\r\n              <h6>\r\n                {state ? state.following && state.following.length + \" \" : \"0\"}\r\n                following\r\n              </h6>\r\n            </div>\r\n          </div>\r\n          <div></div>\r\n        </div>\r\n        <div className=\"file-field input-field\">\r\n          <div className=\"btn #64b5f6 blue darken-1\">\r\n            <span>Update Profile</span>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => updatePhoto(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"gallery\">\r\n        {data.map((pics, index) => {\r\n          return (\r\n            <img key={index} className=\"item\" src={pics.photo} alt=\"gallery\" />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Signup = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({ mode: \"onTouched\" });\r\n  function notify() {\r\n    toast(\"You are registered successfully!\", {\r\n      position: \"top-center\",\r\n    });\r\n  }\r\n\r\n  const onSubmit = async (data) => {\r\n    if (data.profile[0]) {\r\n      const form = new FormData();\r\n      form.append(\"file\", data.profile[0]);\r\n      form.append(\"upload_preset\", \"insta-clone\");\r\n      form.append(\"cloud_name\", \"padmakar15\");\r\n      const res = await axios.post(\r\n        \"https://api.cloudinary.com/v1_1/padmakar15/image/upload\",\r\n        form\r\n      );\r\n      data.profile = res.data.url;\r\n    }\r\n    const response = await axios.post(\"http://localhost:5000/api/signup\", {\r\n      ...data,\r\n    });\r\n    if (response.status === 200) {\r\n      notify();\r\n    }\r\n    console.log(\"response\", response.data);\r\n  };\r\n  return (\r\n    <div className=\"mycard\">\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"card auth-card\">\r\n          <h2>Instagram</h2>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            {...register(\"name\", { required: true })}\r\n            placeholder=\"enter Name\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            {...register(\"email\", { required: true })}\r\n            placeholder=\"enter email address\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"password\"\r\n            {...register(\"password\", { required: true })}\r\n            placeholder=\"enter password\"\r\n          />\r\n          <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n              <span>Upload Profile</span>\r\n              <input name=\"post\" {...register(\"profile\")} type=\"file\" />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n              <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n          </div>\r\n          <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\">\r\n            Signup\r\n          </button>\r\n          <h5>\r\n            <Link to=\"signup\">Already have an account ?</Link>\r\n          </h5>\r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst CreatePost = () => {\r\n  const history = useHistory();\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n  };\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({ mode: \"onTouched\" });\r\n  const onSubmit = async (data) => {\r\n    const form = new FormData();\r\n    form.append(\"file\", data.post[0]);\r\n    form.append(\"upload_preset\", \"insta-clone\");\r\n    form.append(\"cloud_name\", \"padmakar15\");\r\n    const res = await axios.post(\r\n      \"https://api.cloudinary.com/v1_1/padmakar15/image/upload\",\r\n      form\r\n    );\r\n    data.pic = res.data.url;\r\n    console.log(\"data\", data);\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/api/createpost\",\r\n      { ...data },\r\n      { headers: headers }\r\n    );\r\n    if (response.status === 200) {\r\n      history.push(\"/\");\r\n    }\r\n    console.log(\"response\", response.data);\r\n  };\r\n  return (\r\n    <div\r\n      className=\"card input-filed\"\r\n      style={{\r\n        margin: \"30px auto\",\r\n        maxWidth: \"600px\",\r\n        padding: \"20px\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          {...register(\"title\", { required: true })}\r\n          placeholder=\"title\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"body\"\r\n          {...register(\"body\", { required: true })}\r\n          placeholder=\"body\"\r\n        />\r\n        <div className=\"file-field input-field\">\r\n          <div className=\"btn #64b5f6 blue darken-1\">\r\n            <span>Upload Image</span>\r\n            <input\r\n              name=\"post\"\r\n              {...register(\"post\", { required: true })}\r\n              type=\"file\"\r\n            />\r\n          </div>\r\n          <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">\r\n          Create Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","export const initialState = null;\r\n\r\nexport const reducer = (state, action) => {\r\n  if (action.type === \"USER\") {\r\n    return action.payload;\r\n  }\r\n  if (action.type === \"CLEAR\") {\r\n    return null;\r\n  }\r\n  if (action.type === \"UPDATE\") {\r\n    return {\r\n      ...state,\r\n      followers: action.payload.followers,\r\n      following: action.payload.following,\r\n    };\r\n  }\r\n  if (action.type === \"UPDATEPROFILE\") {\r\n    return {\r\n      ...state,\r\n      profile: action.payload,\r\n    };\r\n  }\r\n  return state;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../App\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst UserProfile = () => {\r\n  const [profile, setProfile] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { userid } = useParams();\r\n  const [follow, setFollow] = useState(\r\n    state ? !state.following.includes(userid) : true\r\n  );\r\n  console.log(userid);\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n  };\r\n  const getUserProfile = async () => {\r\n    const response = await axios.get(\r\n      `http://localhost:5000/api/user/${userid}`,\r\n      {\r\n        headers: headers,\r\n      }\r\n    );\r\n\r\n    setProfile(response.data);\r\n    console.log(\"response\", response);\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      getUserProfile();\r\n    }\r\n  }, []);\r\n  console.log(\"data\", data);\r\n  const followUser = async () => {\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/follow\",\r\n      { followId: userid },\r\n      {\r\n        headers: headers,\r\n      }\r\n    );\r\n    dispatch({\r\n      type: \"UPDATE\",\r\n      payload: { following: res.data.following, followers: res.data.followers },\r\n    });\r\n    localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n    setProfile((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        user: {\r\n          ...prevState.user,\r\n          followers: [...prevState.user.followers, res.data._id],\r\n        },\r\n      };\r\n    });\r\n    setFollow(false);\r\n    console.log(\"follow user res\", res.data);\r\n  };\r\n  const unfollowUser = async () => {\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/unfollow\",\r\n      { unfollowId: userid },\r\n      {\r\n        headers: headers,\r\n      }\r\n    );\r\n    dispatch({\r\n      type: \"UPDATE\",\r\n      payload: { following: res.data.following, followers: res.data.followers },\r\n    });\r\n    localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n    setProfile((prevState) => {\r\n      const newFollower = prevState.user.followers.filter(\r\n        (item) => item !== res.data._id\r\n      );\r\n      return {\r\n        ...prevState,\r\n        user: {\r\n          ...prevState.user,\r\n          followers: newFollower,\r\n        },\r\n      };\r\n    });\r\n    setFollow(true);\r\n    console.log(\"unfollow user res\", res.data);\r\n  };\r\n  return (\r\n    <>\r\n      {profile ? (\r\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              margin: \"18px 0\",\r\n              borderBottom: \"1px solid gray\",\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                style={{\r\n                  width: \"160px\",\r\n                  height: \"160px\",\r\n                  borderRadius: \"80px\",\r\n                  marginLeft: \"-50px\",\r\n                }}\r\n                src={profile.user.picture}\r\n                alt=\"profile\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4>{profile.user.name}</h4>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  width: \"108%\",\r\n                }}\r\n              >\r\n                <h6>{profile.posts.length} posts</h6>\r\n                <h6>{profile.user.followers.length} followers</h6>\r\n                <h6>{profile.user.following.length} following</h6>\r\n              </div>\r\n              {follow ? (\r\n                <button\r\n                  style={{ margin: \"10px\"  }}\r\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                  onClick={() => followUser()}\r\n                >\r\n                  follow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  style={{ margin: \"10px\" }}\r\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                  onClick={() => unfollowUser()}\r\n                >\r\n                  unfollow\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div></div>\r\n          </div>\r\n          <div className=\"gallery\">\r\n            {profile.posts.map((pics, index) => {\r\n              return (\r\n                <img\r\n                  key={index}\r\n                  className=\"item\"\r\n                  src={pics.photo}\r\n                  alt=\"gallery\"\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2>Loading...</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../App\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FollowingUserPosts = () => {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n  };\r\n  const getFollowingUserPosts = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/api/getsubposts\", {\r\n      headers: headers,\r\n    });\r\n    setData(response.data);\r\n    console.log(\"response\", response.data);\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      getFollowingUserPosts();\r\n    }\r\n  }, []);\r\n  const likePost = async (id) => {\r\n    console.log(\"id\", id);\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/like\",\r\n      { postId: id },\r\n      {\r\n        headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\r\n      }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"like post res\", res.data);\r\n  };\r\n  const unlikePost = async (id) => {\r\n    console.log(\"id\", id);\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/unlike\",\r\n      { postId: id },\r\n      {\r\n        headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\r\n      }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"unlike post res\", res.data);\r\n  };\r\n  const makeComment = async (text, id) => {\r\n    const res = await axios.put(\r\n      \"http://localhost:5000/api/comment\",\r\n      { text, postId: id },\r\n      { headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") } }\r\n    );\r\n    const newData = data.map((item) => {\r\n      if (item._id === res.data._id) {\r\n        return res.data;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setData(newData);\r\n    console.log(\"comment res\", res.data);\r\n  };\r\n  const deletePost = async (postId) => {\r\n    const res = await axios.delete(\r\n      `http://localhost:5000/api/deletepost/${postId}`,\r\n      { headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") } }\r\n    );\r\n    const newData = data.filter((item) => {\r\n      return item._id !== res.data._id;\r\n    });\r\n    setData(newData);\r\n    console.log(\"delete res\", res.data);\r\n  };\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item, index) => {\r\n        return (\r\n          <div key={index} className=\"card home-card\">\r\n            <h5>\r\n              <Link\r\n                to={\r\n                  item.postedBy._id !== state._id\r\n                    ? \"/profile/\" + item.postedBy._id\r\n                    : \"/profile\"\r\n                }\r\n              >\r\n                {item.postedBy.name}\r\n              </Link>\r\n              {item.postedBy._id === state._id && (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ float: \"right\" }}\r\n                  onClick={() => deletePost(item._id)}\r\n                >\r\n                  delete\r\n                </i>\r\n              )}\r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} alt=\"post\" />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>\r\n                favorite\r\n              </i>\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    unlikePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  onClick={() => {\r\n                    likePost(item._id);\r\n                  }}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length > 0 && item.likes.length} likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {item.comments.map((record, index) => {\r\n                return (\r\n                  <h6 key={index}>\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {record.postedBy.name}\r\n                    </span>\r\n                    {\" \" + record.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowingUserPosts;\r\n","import React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport \"./App.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useHistory,\n} from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/screens/Home\";\nimport Login from \"./components/screens/Login\";\nimport Profile from \"./components/screens/Profile\";\nimport Signup from \"./components/screens/Signup\";\nimport CreatePost from \"./components/screens/CreatePost\";\nimport { initialState, reducer } from \"../src/reducer/UserReducer\";\nimport UserProfile from \"./components/screens/UserProfile\";\nimport FollowingUserPosts from \"./components/screens/FollowingUserPosts\";\n\nexport const UserContext = createContext();\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n    } else {\n      history.push(\"/login\");\n    }\n  }, []);\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/profile\" exact component={Profile} />\n      <Route path=\"/signup\" component={Signup} />\n      <Route path=\"/create\" component={CreatePost} />\n      <Route path=\"/profile/:userid\" component={UserProfile} />\n      <Route path=\"/myfollowingposts\" component={FollowingUserPosts} />\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <Router>\n        <Navbar />\n        <Routing />\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}